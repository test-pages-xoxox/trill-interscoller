(()=>{"use strict";var t=[t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},a=[],u=0;u<t.length;u++){var c=t[u],l=n.base?c[0]+n.base:c[0],f=i[l]||0,s="".concat(l," ").concat(f);i[l]=f+1;var p=r(s),y={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(y);else{var v=o(y,n);n.byIndex=u,e.splice(u,0,{identifier:s,updater:v,references:1})}a.push(s)}return a}function o(t,e){var r=e.domAPI(e);r.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var u=r(i[a]);e[u].references--}for(var c=n(t,o),l=0;l<i.length;l++){var f=r(i[l]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}i=c}}},t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},t=>{t.exports=function(t){return t[1]}},t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var f=[].concat(t[l]);n&&a[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),e.push(f))}},e}},(t,e,r)=>{r.d(e,{A:()=>u});var n=r(6),o=r.n(n),i=r(7),a=r.n(i)()(o());a.push([t.id,'.uz-trilltrill-55_sp{width:100%;border-width:0;box-sizing:border-box;overflow:hidden;margin:auto;background:#fff;width:calc(100% + 6vw);margin-left:-3vw;font-family:"Noto Sans CJK JP","ヒラギノ角ゴ ProN","Hiragino Kaku Gothic ProN","游ゴシック","游ゴシック体",YuGothicMedium,YuGothic,"Yu Gothic","メイリオ",Meiryo,"ＭＳ ゴシック","MS Gothic","HiraKakuProN-W3","TakaoExゴシック",TakaoExGothic,"MotoyaLCedar","Droid Sans Japanese",sans-serif}.uz-trilltrill-55_sp .__uz__widget{width:100%;overflow:hidden}.uz-trilltrill-55_sp .__uz__widget a{text-decoration:none}.uz-trilltrill-55_sp .__uz__widget a:link,.uz-trilltrill-55_sp .__uz__widget a:visited{text-decoration:inherit}.uz-trilltrill-55_sp .__uz__widget .__uz__header-div{display:none}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area{width:100%;overflow:hidden;border-bottom:unset}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article a{width:100%;display:block;box-sizing:border-box;overflow:hidden;padding:calc(2.8*(100vw - 30px)/100) 0;width:calc(100% - 6vw);margin:0 3vw;border-top:1px solid #ccc}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-img{float:left;position:relative;font-size:calc(1.33*(100vw - 30px)/100);height:9.5em;margin-right:10px;width:13.3802816901em;aspect-ratio:100/70.99}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-img img{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content{overflow:hidden;font-size:100% !important;zoom:100% !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content .__uz__article-text{color:#00c;font-size:16px;line-height:1.4;height:44.8px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;-webkit-box-orient:vertical;-webkit-line-clamp:2;display:-webkit-box;-moz-box-orient:vertical;-moz-line-clamp:2;display:-moz-box;-ms-box-orient:vertical;-ms-line-clamp:2;-o-box-orient:vertical;-o-line-clamp:2;display:-o-box;box-orient:vertical;line-clamp:2;display:box;font-weight:bold;height:auto}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content .__uz__article-text span{display:block}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content .__uz__article-pr,.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content .__uz__article-published,.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .__uz__article .__uz__article-content .__uz__article-author{color:#00c;font-size:10px;line-height:1.5;height:15px;overflow:hidden;font-weight:normal;text-align:right}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .article_response .__uz__article-pr{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .article_response .__uz__article-published{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .article_response .__uz__article-author{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .ad_response .__uz__article-pr{display:block !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .ad_response .__uz__article-published{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .ad_response .__uz__article-author{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .media_ad_response .__uz__article-pr{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .media_ad_response .__uz__article-published{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__articles-area .media_ad_response .__uz__article-author{display:none !important}.uz-trilltrill-55_sp .__uz__widget .__uz__credit{display:none}',""]);const u=a}],e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var n="local",o="test",i="development",a="staging",u="production",c="/".concat("v1","/recwid"),l="/".concat("v2","/recwid"),f="dev-",s="staging-",p="click.speee-ad.jp",y="localhost:8081",v="speee-ad.akamaized.net",d="".concat(v,"/tag"),b={};b[n]={adServerHost:"http://".concat(y),akamaiHost:"https://".concat(f).concat(v)},b[o]={adServerHost:"http://".concat(y),akamaiHost:"https://".concat(f).concat(v)},b[i]={adServerHost:"https://".concat(f).concat(p),akamaiHost:"https://".concat(f).concat(v),iframeSrcPath:"https://".concat(f).concat(d)},b[a]={adServerHost:"https://".concat(s).concat(p),akamaiHost:"https://".concat(s).concat(v),iframeSrcPath:"https://".concat(s).concat(d)},b[u]={adServerHost:"https://".concat(p),akamaiHost:"https://".concat(v),iframeSrcPath:"https://".concat(d)};var m=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mode=e,this.adServerHost=b[e].adServerHost,this.akamaiHost=b[e].akamaiHost,this.iframeSrcPath=function(t,e){var r=b[t]&&b[t].iframeSrcPath?"".concat(b[t].iframeSrcPath,"/").concat(e):"".concat(window.location.protocol,"//").concat(window.location.host);return"".concat(r,"/article.html")}(e,r)}var r,f,s;return r=t,(f=[{key:"adServerWidgetRequestEndPoint",value:function(){return"".concat(this.adServerHost).concat(c)}},{key:"adServerDeliveryRequestEndPoint",get:function(){return"".concat(this.adServerHost).concat(l)}},{key:"inject",value:function(){if("UzouInjector"in window){var t,e,r,n,o,i,a,u,c,l,f=(i="",a="",u="",c="",l="",null!==(t=window.UzouInjector)&&void 0!==t&&t.url&&(i=window.UzouInjector.url),null!==(e=window.UzouInjector)&&void 0!==e&&e.adServerHost&&(a=window.UzouInjector.adServerHost),null!==(r=window.UzouInjector)&&void 0!==r&&r.akamaiHost&&(u=window.UzouInjector.akamaiHost),null!==(n=window.UzouInjector)&&void 0!==n&&n.iframeSrcPath&&(c=window.UzouInjector.iframeSrcPath),null!==(o=window.UzouInjector)&&void 0!==o&&o.referer&&(l=window.UzouInjector.referer),{url:i,adServerHost:a,akamaiHost:u,iframeSrcPath:c,referer:l});this.injector=f,"adServerHost"in this.injector&&this.injector.adServerHost.length>0&&(this.adServerHost="https://".concat(this.injector.adServerHost)),"akamaiHost"in this.injector&&this.injector.akamaiHost.length>0&&(this.akamaiHost="https://".concat(this.injector.akamaiHost)),"iframeSrcPath"in this.injector&&this.injector.iframeSrcPath.length>0&&(this.iframeSrcPath="https://".concat(this.injector.iframeSrcPath,"/article.html"))}}},{key:"isDebugResponse",value:function(){return!(this.injector&&(this.injector.url||this.injector.adServerHost.length>0)||!this.isLocal()&&!this.isTest())}},{key:"isLocal",value:function(){return this.mode===n}},{key:"isDevelopment",value:function(){return this.mode===i}},{key:"isStaging",value:function(){return this.mode===a}},{key:"isProduction",value:function(){return this.mode===u}},{key:"isTest",value:function(){return this.mode===o}}])&&e(r.prototype,f),s&&e(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}var _=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.environment=e,this.events=r}var e,r,n;return e=t,r=[{key:"info",value:function(t){var e;null!==(e=this.environment)&&void 0!==e&&e.isProduction()||console.log(t)}},{key:"fatal",value:function(t){var e;null===(e=this.events)||void 0===e||e.fatal(t)}},{key:"error",value:function(t){var e;null===(e=this.events)||void 0===e||e.error(t)}}],n=[{key:"getInstance",value:function(e,r){var n=new t(e,r);return t.getInstance=function(){return n},n}}],r&&w(e.prototype,r),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function O(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}var P=1,E=2,k={win:1,mac:2,android:3,ios:4,notClassified:-1},T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=window.navigator.userAgent.toLowerCase();if(-1!==e.indexOf("windows"))return this.deviceType=-1!==e.indexOf("mobile")?E:P,void(this.osType=k.win);if(-1===e.indexOf("mac os x")){if(-1!==e.indexOf("android"))return this.deviceType=E,void(this.osType=k.android);this.deviceType=E,this.osType=k.notClassified}else-1!==e.indexOf("iphone")||-1!==e.indexOf("ipad")||-1!==e.indexOf("ipod")?(this.deviceType=E,this.osType=k.ios):(this.deviceType=P,this.osType=k.mac)}var e,r,n;return e=t,n=[{key:"create",value:function(){return new t}},{key:"getOsTypeMap",value:function(){return k}}],(r=[{key:"isPC",value:function(){return this.deviceType===P}},{key:"isSP",value:function(){return this.deviceType===E}}])&&j(e.prototype,r),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return function(t){return 1===t}(t)||function(t){return 2===t}(t)||I(t)||function(t){return 5===t}(t)}function I(t){return 4===t}var R="__uuiduz";function x(t){""===U()&&function(t,e,r,n){void 0===r&&(r=new Date).setMilliseconds(r.getMilliseconds()+15552e6),n=void 0===n?"/":n;var o=["".concat(t,"=").concat(encodeURIComponent(e)),"expires=".concat(r.toUTCString()),"path=".concat(n),"SameSite=Strict"];"https:"===window.location.protocol&&o.push("Secure"),document.cookie=o.join("; ")}(R,t)}function C(){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=").concat(e)}(R)}function U(){var t=function(t){for(var e,r=document.cookie?document.cookie.split("; "):[],n=0;n<r.length;n++){var o=r[n].split("=");if(o[0]===t){e=decodeURIComponent(o[1]);break}}return e}(R);return t||""}var A="__uuiduz";function L(){return localStorage.getItem(A)||""}var N=-1,D=0,H=1,M=2,B=3,F=4,W=5;function q(){if(window===window.parent)return H;if(null!=window.$sf)return window.AMP_CONTEXT_DATA?F:B;if(null!=window.context&&null!=window.context.requestResize)return W;if(window.location.host.match(/speee-ad.akamaized.net$/)&&window.location.pathname.match(/article.html$/))return D;try{var t;if(null===(t=window.top)||void 0===t?void 0:t.location.href)return M;throw new Error("unsupported frame type")}catch(t){_.getInstance().error(new Error("".concat(t.message,". ").concat(window.location.href)))}return N}function $(){var t=q();return t===H||t===M}function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function J(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,K(e,t),r),r}function K(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q(n.key),n)}}function X(t,e,r){return e&&Z(t.prototype,e),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}var tt,et=function(){function t(e,r,n){Y(this,t),this.uuid=e,this.optOut=r,this.trackingTags=n,this.status="initialized",this.fireEvent()}return X(t,[{key:"saveUUID",value:function(){var t,e=this;if(this.uuid){try{$()?(t=this.uuid,""===L()&&localStorage.setItem(A,t)):x(this.uuid)}catch(t){_.getInstance().error(t)}this.trackingTags.forEach((function(t){t.fire(e)}))}}},{key:"saveOrDeleteUUID",value:function(e,r){this.optOut=r;var n=$()?L():U();this.uuid=""!=n?n:e,this.optOut?t.deleteUUID():this.saveUUID(),this.status="responded",this.fireEvent()}},{key:"eventName",value:function(){return"uzo:User:"+this.status}},{key:"fireEvent",value:function(){window.dispatchEvent(new Event(this.eventName(),{bubbles:!0}))}}],[{key:"create",value:function(e){try{return $()?e||(e=L()):e||(e=U()),new t(e,!1,[])}catch(t){_.getInstance().error(t)}return new t("",!1,[])}},{key:"deleteUUID",value:function(){try{$()?localStorage.removeItem(A):C()}catch(t){_.getInstance().error(t)}}}]),t}(),rt=new WeakMap,nt=function(){function t(e){Y(this,t),G(this,rt,{writable:!0,value:void 0}),J(this,rt,e)}return X(t,null,[{key:"initialize",value:function(e){return void 0===tt&&(tt=new t(e)),tt}},{key:"getInstance",value:function(){if(void 0===tt)throw new Error("UserReference is not initialized");return tt}},{key:"lookup",value:function(){return function(t,e){return e.get?e.get.call(t):e.value}(e=t.getInstance(),K(rt,e));var e}}]),t}();function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,at(n.key),n)}}function at(t){var e=function(t,e){if("object"!=ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ot(e)?e:e+""}var ut=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetMap=e,this.user=r,this.isRehearsal=n}var e,r,n;return e=t,n=[{key:"getInstance",value:function(e,r){var n=new t({},e,r);return t.getInstance=function(){return n},n}}],(r=null)&&it(e.prototype,r),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ct="uzou_debug",lt="1";function ft(t){return pt(window.location.search,t)}function st(t,e){return pt(t.substring(t.indexOf("?")),e)}function pt(t,e){for(var r="",n=t.substring(1).split("&"),o=0;o<n.length;o++){var i=n[o].search(/=/),a="";if(-1!==i&&(a=n[o].slice(0,i)),""!==a&&a===e){r=n[o].slice(n[o].indexOf("=",0)+1);break}}return r}function yt(t,e,r,n){var o=_.getInstance(t,r),i=function(t,e,r,n,o){var i=t.placementId;if(isNaN(i))throw new Error("placementId parse failed");if(!z(t.buildType))throw new Error("".concat(t.buildType," is not a build type"));var a=t.buildType;return{id:i,code:t.placementCode,buildType:a,viewSetting:{templateHtml:e,templateItemHtml:r,headerText:t.headerText,publishedAtFmt:t.publishedAtFmt,ampWidgetWidth:t.ampWidgetWidth,ampWidgetHeight:t.ampWidgetHeight},di:{outer:n,inner:o}}}(e.placementSetting,e.templateHtml,e.templateItemHtml,e.outerDIContainer,e.innerDIContainer),a=T.create(),u=function(){if(window.Uzou)return window.Uzou;var t=et.create(),e=function(){try{return function(){if(window!==window.parent){var t=window.document.referrer.indexOf("?");return t>=0&&pt(window.document.referrer.substring(t),ct)===lt}return ft(ct)===lt}()}catch(t){return o.error(t),!1}}(),r=ut.getInstance(t,e);return window.Uzou=r,r}();n.handle(u,i,t,a,r)}function vt(t){return null==t?t:parseInt(t)}var dt="articles-area",bt=("#".concat(dt),"header"),mt=("#".concat(bt),"__uz__"),ht=mt,wt="".concat(mt,"slot_index_"),gt=("".concat(mt,"third_party_ad"),"".concat(mt,"third_party_gdn"),"".concat(mt,"third_party_ydn"),"".concat(mt,"third_party_aps"),"4.3.0"),_t=new Error("must be implemented by subclass!");function St(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))}function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pt(n.key),n)}}function Pt(t){var e=function(t,e){if("object"!=jt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jt(e)?e:e+""}var Et=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=0,i=e.location.href,a=e,u=function(t){return null!=t&&""!=t},c=function(t){u(t.document.referrer)?i=t.document.referrer:u(n)&&(i=n)};a!==a.parent;){if(5<=++o)throw new Error("reach try count.");try{var l=a.parent;if(!(l instanceof Window)&&void 0===l.location){u(a.location.href)&&(i=a.location.href);break}if(!u(l.location.href)){c(a);break}i=l.location.href,a=l}catch(t){c(a);break}}if(!u(i)){if(!u(n))throw new Error("get URL Error: ".concat(e.location.href));i=n}this.mediaURL=n,this.window=e,this.div=r,this.url=i}var e,r,n;return e=t,(r=[{key:"filter",value:function(t){return this.url=t(this.url),this}},{key:"filterAMP",value:function(t){var e=this;return this.filter((function(r){try{var n=new URL(r),o=function(t){return t.replace(/\/amp/,"")},i=function(i){if(""===i||"/"===i){if("string"==typeof t)return t;if("string"==typeof e.mediaURL)return e.mediaURL;throw new Error("need URL fixing: ".concat(r,"."))}return i=o(i),"".concat(n.protocol,"//").concat(i).concat(n.search)},a=e.window.AMP_CONTEXT_DATA;if(void 0!==a&&"string"==typeof a.canonicalUrl)return o(a.canonicalUrl);if(/ampproject.org$/.test(n.host)){var u;if(/^\/[cv]\/s\//.test(n.pathname))u=n.pathname.replace(/^\/[cv]\/s\//,"");else{var c=n.host.replace(/.cdn.ampproject.org/,"").replace(/-/,".");u="".concat(c).concat(n.pathname)}return i(u)}if(/(?:www.google.(?:com|co.jp)|search.yahoo.co.jp)$/.test(n.host)&&/^\/amp\/s\//.test(n.pathname))return i(n.pathname.replace(/^\/amp\/s\//,""))}catch(t){}return r}))}},{key:"encode",value:function(){return St(this.url)}}])&&Ot(e.prototype,r),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zt(n.key),n)}}function zt(t){var e=function(t,e){if("object"!=kt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kt(e)?e:e+""}var It=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetDiv=e}var e,r,n;return e=t,r=[{key:"getURL",value:function(){throw _t}},{key:"removeGAMMacroParameter",value:function(t){return function(t,e){var r=t.indexOf("?");if(-1==r)return t;var n=t.substring(r),o=e+"=",i=n.substring(1).split("&").filter((function(t){return t.length<o.length||t.substring(0,o.length)!=o}));return n=i.length>0?"?"+i.join("&"):"",t.substring(0,r)+n}(t,"dfpdep")}},{key:"removeAmpPath",value:function(t){var e=new URL(t);return e.searchParams.delete("amp"),(/^.*\/amp$/.test(e.pathname)||/\/amp\//.test(e.pathname))&&(e.pathname=e.pathname.replace(/\/amp/,"")),e.toString()}},{key:"getURLByV1",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Et(window,this.widgetDiv).filterAMP();return t?e.encode():e.url}}],r&&Tt(e.prototype,r),n&&Tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function Ct(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rt(e)?e:e+""}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}function At(t){var e=Lt();return function(){var r,n=Nt(t);if(e){var o=Nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lt=function(){return!!t})()}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(i,t);var e,r,n,o=At(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=window.location.href;return t?St(e):e}}],r&&xt(e.prototype,r),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t,e){if("object"!=Ht(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ht(e)?e:e+""}function Ft(t,e){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ft(t,e)}function Wt(t){var e=qt();return function(){var r,n=$t(t);if(e){var o=$t(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function qt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qt=function(){return!!t})()}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}var Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ft(t,e)}(i,t);var e,r,n,o=Wt(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null==window.top)throw new Error("window.top is null");var e=this.removeGAMMacroParameter(window.top.location.href);return t?St(e):e}}],r&&Mt(e.prototype,r),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kt(n.key),n)}}function Kt(t){var e=function(t,e){if("object"!=Gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gt(e)?e:e+""}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Zt(t){var e=Xt();return function(){var r,n=Qt(t);if(e){var o=Qt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xt=function(){return!!t})()}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(i,t);var e,r,n,o=Zt(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.widgetDiv.dataset.uzUrl)return this.getURLByV1(t);var e=this.removeGAMMacroParameter(this.widgetDiv.dataset.uzUrl);return t?St(e):e}}],r&&Jt(e.prototype,r),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ne(n.key),n)}}function ne(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ee(e)?e:e+""}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){var e=ae();return function(){var r,n=ue(t);if(e){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ae=function(){return!!t})()}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(i,t);var e,r,n,o=ie(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.widgetDiv.dataset.uzUrl)return this.getURLByV1(t);var e=this.removeAmpPath(this.removeGAMMacroParameter(this.widgetDiv.dataset.uzUrl));return t?St(e):e}}],r&&re(e.prototype,r),n&&re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,se(n.key),n)}}function se(t){var e=function(t,e){if("object"!=le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==le(e)?e:e+""}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}function ye(t){var e=ve();return function(){var r,n=de(t);if(e){var o=de(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ve=function(){return!!t})()}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},de(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(i,t);var e,r,n,o=ye(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null==window.UzouInjector||!window.UzouInjector.url)throw new Error("getURLFunction Error. (canonical url is none)");var e=this.removeAmpPath(decodeURIComponent(window.UzouInjector.url));return t?St(e):e}}],r&&fe(e.prototype,r),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,we(n.key),n)}}function we(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==me(e)?e:e+""}var ge=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=e,this.mediaZoom=r}var e,r,n;return e=t,n=[{key:"create",value:function(e){var r,n;try{r=window.getComputedStyle(e).getPropertyValue("height"),n=parseInt(r.replace(/px/,""))}catch(t){n=0}return new t(n,function(){try{return+document.getElementsByTagName("html")[0].style.zoom||1}catch(t){return 1}}())}}],(r=[{key:"setWidgetHeight",value:function(t){this.height=t}}])&&he(e.prototype,r),n&&he(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,je(n.key),n)}}function je(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:e+""}var Oe=function(){function t(e,r,n,o,i,a,u,c,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetIndex=e,this.widgetId=r,this.url=n,this.referer=o,this.device=i,this.uuid=a,this.mediaZoom=u,this.sessId=c,this.environmentInjector=l}var e,r,n;return e=t,n=[{key:"create",value:function(e,r,n){return new t(n.widgetIndex,n.widgetId,n.url,n.referer,n.device,r.uuid,e.mediaZoom,n.events.sessId,n.environment.injector)}},{key:"QUERY_KEY",value:function(){return"dto"}},{key:"fromStringJson",value:function(e){try{var r=JSON.parse(decodeURIComponent(e));return new t(r.widgetIndex,r.widgetId,r.url,r.referer,r.device,r.uuid,r.mediaZoom,r.sessId,r.environmentInjector)}catch(t){throw t}}}],(r=[{key:"toJsonString",value:function(){var t={widgetIndex:this.widgetIndex,widgetId:this.widgetId,url:this.url,referer:this.referer,device:this.device,uuid:this.uuid,mediaZoom:this.mediaZoom,sessId:this.sessId,environmentInjector:this.environmentInjector};return encodeURIComponent(JSON.stringify(t))}},{key:"toDevice",value:function(){return this.device}},{key:"toUser",value:function(){return et.create(this.uuid)}},{key:"toWidgetAttribute",value:function(){return new ge(0,this.mediaZoom)}}])&&Se(e.prototype,r),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ke(n.key),n)}}function ke(t){var e=function(t,e){if("object"!=Pe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pe(e)?e:e+""}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function ze(t){var e=Ie();return function(){var r,n=Re(t);if(e){var o=Re(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ie=function(){return!!t})()}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}var xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(i,t);var e,r,n,o=ze(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=ft(Oe.QUERY_KEY()),r=Oe.fromStringJson(e).url;return t?r:decodeURIComponent(r)}}],r&&Ee(e.prototype,r),n&&Ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ae(n.key),n)}}function Ae(t){var e=function(t,e){if("object"!=Ce(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ce(e)?e:e+""}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}function Ne(t){var e=De();return function(){var r,n=He(t);if(e){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function De(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(De=function(){return!!t})()}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},He(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(i,t);var e,r,n,o=Ne(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getURL",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.getURLByV1(t)}}],r&&Ue(e.prototype,r),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(It);function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,We(n.key),n)}}function We(t){var e=function(t,e){if("object"!=Be(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Be(e)?e:e+""}function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function $e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function Ve(t){var e=function(t,e){if("object"!=qe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qe(e)?e:e+""}function Ge(t,e){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ge(t,e)}function Je(t){var e=Ke();return function(){var r,n=Ye(t);if(e){var o=Ye(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ke=function(){return!!t})()}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(i,t);var e,r,n,o=Je(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n=[{key:"getInstance",value:function(){var t=new i;return i.getInstance=function(){return t},t}}],(r=[{key:"getURLFunction",value:function(t,e){var r=t.location.host,n="test.jisin.2xx.jp",o=t.location.href;return r===n&&(o=o.replace(n,"jisin.2xx.jp")),St(o)}}])&&$e(e.prototype,r),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"getInstance",value:function(){var e=new t;return t.getInstance=function(){return e},e}}],(r=[{key:"getURLFunction",value:function(t,e){if(t!==window)throw new Error("unsupported window");return function(t){switch(q()){case D:return new xe(t);case H:return new Dt(t);case M:return new Vt(t);case B:return new te(t);case F:return new ce(t);case W:return new be(t);default:return new Me(t)}}(e).getURL()}},{key:"getAmpURLFunction",value:function(t,e,r){return r}},{key:"addStyleToOuterElement",value:function(t,e){}},{key:"resizeIFrame",value:function(t,e){}}])&&Fe(e.prototype,r),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function Xe(t){return"ad"===t}function Qe(t){return"article"===t}function tr(t){return"media_ad"===t}function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nr(n.key),n)}}function nr(t){var e=function(t,e){if("object"!=er(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==er(e)?e:e+""}function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ar(n.key),n)}}function ar(t){var e=function(t,e){if("object"!=or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==or(e)?e:e+""}function ur(t,e){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ur(t,e)}function cr(t){var e=lr();return function(){var r,n=fr(t);if(e){var o=fr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function lr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lr=function(){return!!t})()}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fr(t)}var sr,pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ur(t,e)}(i,t);var e,r,n,o=cr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n=[{key:"getInstance",value:function(){var t=new i;return i.getInstance=function(){return t},t}}],(r=null)&&ir(e.prototype,r),n&&ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"getInstance",value:function(){var e=new t;return t.getInstance=function(){return e},e}}],(r=[{key:"replaceWidgetResponseContent",value:function(t){Xe(t.contentType)&&(t.advertiserName=t.advertiserName&&0!==t.advertiserName.indexOf("PR")?"PR("+t.advertiserName+")":t.advertiserName)}},{key:"thirdPartyTagWidgetElement",value:function(t,e){}}])&&rr(e.prototype,r),n&&rr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function yr(){return{placementSetting:function(t){if(!t.placement_code||"string"!=typeof t.placement_code)throw new Error("PlacementSetting:can't load json.placement_code");if(!t.placement_id)throw new Error("PlacementSetting:can't load json.placement_id");if(!t.environment||"string"!=typeof t.environment)throw new Error("PlacementSetting:can't load json.environment");if(!t.build_type)throw new Error("PlacementSetting:can't load json.build_type");if(!("header_text"in t)||"number"==typeof t.header_text)throw new Error("PlacementSetting:can't load json.header_text");if(!("published_at_fmt"in t)||"number"==typeof t.published_at_fmt)throw new Error("PlacementSetting:can't load json.published_at_fmt");return{placementCode:t.placement_code,placementId:parseInt(t.placement_id),headerText:t.header_text||"",publishedAtFmt:t.published_at_fmt||"",buildType:parseInt(t.build_type),environment:t.environment,ampWidgetWidth:vt(t.amp_widget_width),ampWidgetHeight:vt(t.amp_widget_height)}}({placement_code:"trilltrill-55_sp",placement_id:9919,header_text:"",published_at_fmt:"",build_type:5,style_type:2,amp_widget_width:null,amp_widget_height:null,environment:"production"}),templateHtml:"<div class=__uz__widget> <div class=__uz__header-div> <span class=__uz__header></span> </div> <div class=__uz__articles-area></div> <div class=__uz__credit> <a target=_blank href={CREDIT_LINK_URL} rel=nofollow> Recommended by <img class=__uz__logo src=//speee-ad.akamaized.net/tag/image/logo_black.png alt=UZOU loading=lazy /> </a> </div> </div> ",templateItemHtml:'<div class="__uz__article {SLOT_INDEX} {IS_HORIZONTAL} {RESPONSE_TYPE}"> <a target={LINK_TARGET} href={LINK_URL} rel=nofollow> <div class=__uz__article-img> <img src={IMAGE_URL} loading=lazy /> </div> <div class=__uz__article-content> <div class=__uz__article-text> <span>{ARTICLE_TEXT}</span> </div> <div class=__uz__article-pr> <span>{ARTICLE_PR}</span> </div> <div class=__uz__article-published> <span>{PUBLISHED_AT}</span> </div> <div class=__uz__article-author> <span>{AUTHOR_NAME}</span> </div> </div> </a> </div> ',outerDIContainer:Ze.getInstance(),innerDIContainer:pr.getInstance()}}function vr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return dr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function br(t,e){var r;try{r=encodeURIComponent(t)}catch(e){if(!r){var n,o=[],i=vr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value.codePointAt(0);if(null==a)throw new Error("breaking codepoint");o.push(a.toString(16))}}catch(t){i.e(t)}finally{i.f()}r=encodeURIComponent("failed to encode: ["+o.join(", ")+"]")}}return void 0!==e&&r.length>e&&(r=r.slice(0,e)),r}function mr(t){var e=(sr||(sr=document.createElement("textarea")),sr);return e.innerHTML=t,e.value}function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gr(n.key),n)}}function gr(t){var e=function(t,e){if("object"!=hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hr(e)?e:e+""}var _r,Sr=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.environment=r,this.placement=n,this.appType=e,this.endpoint="/v1/ev"}var e,r,n;return e=t,r=[{key:"setSessId",value:function(t){this.sessId=t}},{key:"buildURL",value:function(t){var e=this.environment.adServerHost+this.endpoint,r=t.map((function(t){return t.join("=")})).join("&");return"".concat(e,"?").concat(r)}},{key:"log",value:function(t,e){t||(t="load"),e||(e=[]),e.push(["id",this.placement.placementId],["v",gt],["tp",this.appType],["sess",this.sessId],["ts",(new Date).getTime()],["lv",t]);try{var r=U();""!==r&&e.push(["ext",r])}catch(t){this.error(t)}var n=this.buildURL(e);this.fire(n)}},{key:"error",value:function(t){this.handleError("error",t)}},{key:"fatal",value:function(t){this.handleError("fatal",t)}},{key:"handleError",value:function(t,e){var r=e.name,n=e.message,o=e.stack||"";if("undefined"!=typeof IntersectionObserver||!n.indexOf("IntersectionObserver")){this.environment.isProduction()||(console.error(e),console.error(o));var i=[["e",r],["str",br(o,1200)],["msg",br(n,1200)]];this.log(t,i)}}},{key:"fire",value:function(t){if(!this.environment.isTest())try{var e=document.createElement("img");e.src=t,e.width=0,e.height=0,e.style.display="none",document.body.appendChild(e)}catch(t){this.environment.isProduction()||console.error(t)}}}],r&&wr(e.prototype,r),n&&wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var jr,Or=void 0;function Pr(){return Or||(Or=function(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();var t="";if("function"==typeof crypto.getRandomValues){var e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).forEach((function(e,r){4!==r&&6!==r&&8!==r&&10!==r||(t+="-"),t+=e.toString(16).padStart(2,"0")})),t}for(var r=0;r<32;r++){var n=Math.floor(16*Math.random());8!==r&&12!==r&&16!==r&&20!==r||(t+="-"),t+=n.toString(16)}return t}())}function Er(t){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(t)}function kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tr(n.key),n)}}function Tr(t){var e=function(t,e){if("object"!=Er(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Er(e)?e:e+""}function zr(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Ir(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Rr(e,t),r),r}function Rr(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var xr=new WeakMap,Cr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,xr,{writable:!0,value:void 0}),Ir(this,xr,e)}var e,r,n;return e=t,n=[{key:"initialize",value:function(e){return void 0===jr&&(jr=new t(e)),jr}},{key:"getInstance",value:function(){if(void 0===jr)throw new Error("ContextProvider is not initialized");return jr}},{key:"lookup",value:function(){return function(t,e){return e.get?e.get.call(t):e.value}(e=t.getInstance(),Rr(xr,e));var e}}],(r=null)&&kr(e.prototype,r),n&&kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ur="uz-ny";function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nr(n.key),n)}}function Nr(t){var e=function(t,e){if("object"!=Ar(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ar(e)?e:e+""}var Dr=["localhost","127.0.0.1","uzo-test-img.s3.ap-northeast-1.amazonaws.com","uzo-lcl-img.s3.ap-northeast-1.amazonaws.com","uzo-dev-img.s3.ap-northeast-1.amazonaws.com","uzo-stg-img.s3.ap-northeast-1.amazonaws.com","uzo-prd-img.s3.ap-northeast-1.amazonaws.com"],Hr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsonpCallBack=e}var e,r,n;return e=t,(r=[{key:"execute",value:function(t,e,r){var n="".concat("uzWidgetCallback").concat(e.widgetIndex);window[n]=this.jsonpCallBack;var o=function(t,e,r){var n,o="",i=I(e.placement.buildType)&&(null==e.environment.injector||""==e.environment.injector.adServerHost)&&e.environment.isLocal();if(e.environment.isTest())o=Mr(e,Br(),t);else if(i)o=Mr(e,Br(),t);else if(e.environment.isDebugResponse())o=Mr(e,(n=window.location.origin,"".concat(n,"/debug-response.jsonp")),t);else{var a=q(),u=St(e.placement.code);o="".concat(e.environment.adServerWidgetRequestEndPoint(),"?url=").concat(e.url,"&ft=").concat(a,"&placement_id=").concat(e.placement.id,"&placement_code=").concat(u,"&v=").concat(gt,"&device=").concat(e.device.deviceType,"&os=").concat(e.device.osType,"&ref=").concat(e.referer,"&cb_name=").concat(t,"&sess_id=").concat(e.events.sessId,"&ext=").concat(r.uuid,"&cb=").concat(+new Date)}o=Mr(e,o,t);var c=document.createElement("script");return c.async=!0,c.type="text/javascript",c.src=o,c}(n,e,r);t.appendChild(o)}}])&&Lr(e.prototype,r),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Mr(t,e,r){var n=function(t){if(null==t)return e;try{var n=new URL(t);return Dr.includes(n.hostname)?(n.searchParams.set("cb_name",r),n.href):e}catch(t){return e}},o=function(t){var e=decodeURIComponent(t);if(st(e,ct)===lt)return st(e,"uzou_mock")}(t.url);if(null!=o)return n(decodeURIComponent(o));var i=document.querySelector(t.widgetElementIdName);return null==i?e:n(i.dataset.uzMockServer)}function Br(){return"https://s3-ap-northeast-1.amazonaws.com/uzo-test-img/debug-response.jsonp"}var Fr="__uz__active",Wr="__uz__activator";function qr(t,e){var r=$r(t,e);if(null==r.firstChild)throw new Error("html is requeired.");return r.firstChild}function $r(t,e){e||(e=document.body||document.documentElement);var r=document.createRange();return r.selectNode(e),r.createContextualFragment(t)}function Vr(t,e){if(!t||!e)return"";var r=t.match(/(\d{4})-(\d{2})-(\d{2})/);if(!r)return"";var n=r.map((function(t){var e=parseInt(t,10);return e=isNaN(e)?0:e})),o=new Date(n[1],n[2]-1,n[3]),i=e;for(var a in Jr)i=i.replace(a,Jr[a](o));return i}var Gr,Jr={yyyy:function(t){return t.getFullYear()+""},MM:function(t){return("0"+(t.getMonth()+1)).slice(-2)},dd:function(t){return("0"+t.getDate()).slice(-2)}};function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}function Yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zr(n.key),n)}}function Zr(t){var e=function(t,e){if("object"!=Kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kr(e)?e:e+""}function Xr(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Qr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,en(e,t))}function tn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,en(e,t),r),r}function en(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var rn=new WeakMap,nn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Xr(this,rn,{writable:!0,value:void 0}),tn(this,rn,{})}var e,r,n;return e=t,r=[{key:"appendFromURLString",value:function(t){try{var e=new URL(decodeURIComponent(t));e.searchParams.has("ad_group_creative_id")?this.assign("ad_group_creative_id",e.searchParams):e.searchParams.has("article_id")?this.assign("article_id",e.searchParams):e.searchParams.has("media_ad_group_creative_id")&&this.assign("media_ad_group_creative_id",e.searchParams)}catch(e){console.error(e),console.error(t,decodeURIComponent(t))}}},{key:"assign",value:function(t,e){var r=e.get(t),n=t.toLowerCase().replace(/([-_][a-z])/g,(function(t){return t.toUpperCase().replace("-","").replace("_","")}));if(null!=r){var o=parseInt(r,10);if(Number.isNaN(o))throw new Error("Invalid value");null==Qr(this,rn)[n]&&(Qr(this,rn)[n]=[]),Qr(this,rn)[n].includes(o)||Qr(this,rn)[n].push(o)}}},{key:"creatives",get:function(){return Qr(this,rn)}}],n=[{key:"getInstance",value:function(){return null==Gr&&(Gr=new t),Gr}}],r&&Yr(e.prototype,r),n&&Yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,un(n.key),n)}}function un(t){var e=function(t,e){if("object"!=on(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=on(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==on(e)?e:e+""}var cn=function(){function t(e,r,n,o,i,a,u,c,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slotIndex=e,this.contentType=r,this.linkURL=n,this.imageURL=o,this.actualURL=l,this.title=i,this.advertiserName=a,this.authorName=u,this.publishedAt=c,this.elements=[]}var e,r,n;return e=t,r=[{key:"getImageFullURL",value:function(t){var e=decodeURIComponent(this.imageURL);return e.match(/^https?:\/\//)||(e=t.environment.akamaiHost+e),e}},{key:"createElements",value:function(t,e){var r,n=document,o=Xe(r=this.contentType)?"ad_response":Qe(r)?"article_response":"media_ad_response",i=decodeURIComponent(this.linkURL);"//"==i.substring(0,2)&&(i="https:"+i);var a=this.isAdResponse()?"広告画像":"記事画像",u=function(t,e){return[["{SLOT_INDEX}","".concat(wt).concat(e.idx)],["{RESPONSE_TYPE}",e.responseClassName],["{ARTICLE_TEXT}",e.title],["{LINK_TARGET}",e.isAdResponse?"_blank":"_top"],["{LINK_URL}",e.linkURL],["{IMAGE_URL}",e.imageURL],["{IS_HORIZONTAL}","article-horizontal"],["{ARTICLE_PR}",e.advertiserName],["{PUBLISHED_AT}",e.publishedAt],["{AUTHOR_NAME}",e.authorName],["{ALT_TEXT}",e.altText],["{OUTLINE}",e.outline||""]].forEach((function(e){var r,n,o;t=t.replace(new RegExp(e[0],"g"),(r=e[1]||"",n=mr(r),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.replace(/[&<>"']/g,(function(t){return o[t]}))))})),t}(e.placement.viewSetting.templateItemHtml,{idx:t,responseClassName:o,title:this.title,isAdResponse:Xe(this.contentType),linkURL:i,imageURL:this.getImageFullURL(e),advertiserName:this.advertiserName,publishedAt:Vr(this.publishedAt,e.placement.viewSetting.publishedAtFmt),authorName:this.authorName,altText:a,outline:this.outline}),c=qr(u);if(this.actualURL){var l=c.querySelector("a");l&&(l.setAttribute("href",this.actualURL),l.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var e=l.getAttribute("target");e||(e="_top"),window.open(i,e)})))}var f={data:c};this.elements.push(f);var s=e.placement.di.inner.thirdPartyTagWidgetElement(t,n);s&&this.elements.push(s)}},{key:"isAdResponse",value:function(){return Xe(this.contentType)}},{key:"isArticleResponse",value:function(){return Qe(this.contentType)}},{key:"isMediaAdResponse",value:function(){return tr(this.contentType)}}],n=[{key:"create",value:function(e,r,n){if(!(Xe(o=e.content_type)||Qe(o)||tr(o)))throw new Error("".concat(e.content_type," is not valie content_type"));var o,i=e.content_type,a=e.link_url,u=e.img_url,c=e.text,l=e.advertiser_name||"",f=e.author_name||"",s=e.published_at||"",p=e.actual_url;nn.getInstance().appendFromURLString(a);var y=new t(r,i,a,u,c,l,f,s,p);return n.placement.di.inner.replaceWidgetResponseContent(y),y.createElements(r,n),y}}],r&&an(e.prototype,r),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sn(n.key),n)}}function sn(t){var e=function(t,e){if("object"!=ln(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ln(e)?e:e+""}var pn=function(){function t(e,r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hashtagCode=e,this.hashtagName=r,this.index=n,this.articles=o,this.id=this.createId()}var e,r,n;return e=t,n=[{key:"create",value:function(e,r,n){var o=e.articles.map((function(t,e){return cn.create(t,e,r)})),i=new t(e.hashtag_code,e.hashtag_name,n,o);return i.buildDOM(),i}}],(r=[{key:"tagId",value:function(){return"__uz__tag-".concat(this.id)}},{key:"buildDOM",value:function(){var t=new DocumentFragment,e=document.createElement("div");e.setAttribute("id",this.tagId()),e.classList.add("__uz__tag-content"),0===this.index&&e.classList.add(Fr);var r=document.createElement("div");r.classList.add("__uz__articles-area"),e.appendChild(r),t.appendChild(e),this.fragment=t}},{key:"createId",value:function(){var t=new Uint32Array(4);return crypto.getRandomValues(t),Array.from(t).map((function(t){return t.toString(16).padStart(8,"0")})).join("")}}])&&fn(e.prototype,r),n&&fn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dn(n.key),n)}}function dn(t){var e=function(t,e){if("object"!=yn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yn(e)?e:e+""}var bn=function(){function t(e,r,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.recommendAlgorithmArticleId=e,this.recommendAlgorithmArticleTypeId=r,this.reccommentAlgorithmArticleRevision=n,this.delivListArticleType=o,this.hashtags=i}var e,r,n;return e=t,n=[{key:"create",value:function(e,r){r.recommendAlgorithmArticleId=e.recommend_algorithm_article_id,r.recommendAlgorithmArticleTypeId=e.recommend_algorithm_article_type_id,r.recommendAlgorithmArticleRevision=e.recommend_algorithm_article_revision,r.delivListArticleType=e.deliv_list_article_type,r.requestId=e.request_id;var n=e.hashtags.map((function(t,e){return pn.create(t,r,e)}));return new t(e.recommend_algorithm_article_id,e.recommend_algorithm_article_type_id,e.recommend_algorithm_article_revision,e.deliv_list_article_type,n)}}],(r=[{key:"allWidgetResponseContents",value:function(){var t=[];return this.hashtags.forEach((function(e){e.articles.forEach((function(e){t.push(e)}))})),t}},{key:"navigationFragment",value:function(){var t=new DocumentFragment,e=document.createElement("div");e.classList.add("__uz__nav-wrapper");var r=document.createElement("div");r.classList.add("__uz__tag-nav");var n=document.createElement("ul");return this.hashtags.forEach((function(t,e){var r=document.createElement("li");r.dataset.uzActivatorFor=t.tagId(),r.classList.add("__uz__tag-nav-item"),r.classList.add(Wr),0===e&&r.classList.add(Fr),r.textContent=t.hashtagName,n.appendChild(r)})),r.appendChild(n),e.appendChild(r),t.appendChild(e),t}}])&&vn(e.prototype,r),n&&vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function hn(t,e){var r="uuid"in t?t.uuid:"",n="opt_out"in t&&t.opt_out,o="inview_url"in t?t.inview_url:"",i=null!=t.hashtag_content?function(t,e){return bn.create(t.hashtag_content,e)}(t,e):function(t,e){if(!("articles"in t)||"object"!==mn(t.articles)||!Array.isArray(t.articles))return[];return t.articles.map((function(t,r){return cn.create(t,r,e)}))}(t,e);return{uuid:r,optOut:n,inviewURL:o,contents:i,isHashtag:i instanceof bn}}function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_n(n.key),n)}}function _n(t){var e=function(t,e){if("object"!=wn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wn(e)?e:e+""}var Sn,jn,On=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.user=e,this.context=r,this.count=1}var e,r,n;return e=t,(r=[{key:"onImpression",value:function(t){var e=this.buildPayload(t);this.request(e),this.count++}},{key:"buildPayload",value:function(t){return{hashtagCode:t,hashtagImpCount:this.count,placementId:this.context.placement.id,recommendAlgorithmArticleId:this.context.recommendAlgorithmArticleId||-1,recommendAlgorithmArticleTypeId:this.context.recommendAlgorithmArticleTypeId||-1,recommendAlgorithmArticleRevision:this.context.recommendAlgorithmArticleRevision||-1,delivListArticleType:this.context.delivListArticleType||-1,url:decodeURIComponent(this.context.url),referer:decodeURIComponent(this.context.referer),device:this.context.device.deviceType,osType:this.context.device.osType,requestId:this.context.requestId||"",sessionId:this.context.events.sessId,version:gt,uuid:this.user.uuid}}},{key:"requestURL",value:function(){return"".concat(this.context.environment.adServerHost,"/").concat("v1/iwi","?ext=").concat(this.user.uuid)}},{key:"request",value:function(t){navigator.sendBeacon(this.requestURL(),JSON.stringify(t))}}])&&gn(e.prototype,r),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function En(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kn(n.key),n)}}function kn(t){var e=function(t,e){if("object"!=Pn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pn(e)?e:e+""}var Tn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.status="initialized",this.context=void 0,this.onCreatedCallbacks=[]}var e,r,n;return e=t,r=[{key:"onCreated",value:function(t){this.status="created",this.context=t,this.onCreatedCallbacks.forEach((function(e){try{e(t)}catch(t){_.getInstance().error(t)}})),this.onCreatedCallbacks=[]}},{key:"onFailure",value:function(t){this.status="failed",this.context=t}}],n=[{key:"getInstance",value:function(){return void 0===jn&&(jn=new t),jn}},{key:"ready",value:function(e){var r=t.getInstance();if("failed"!==r.status)if("created"!==r.status)r.onCreatedCallbacks.push(e);else try{e(r.context)}catch(t){_.getInstance().error(t)}}}],r&&En(e.prototype,r),n&&En(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),zn=function(t){var e,r,n=t,o={a:0,b:0,c:0},i=[];return e=function(e,r){var a,u,c,l,f,s;if(e.test(n))for(u=0,c=(a=n.match(e)).length;u<c;u+=1)o[r]+=1,l=a[u],f=n.indexOf(l),s=l.length,i.push({selector:t.substr(f,s),type:r,index:f,length:s}),n=n.replace(l,Array(s+1).join(" "))},(r=function(t){var e,r,o,i;if(t.test(n))for(r=0,o=(e=n.match(t)).length;r<o;r+=1)i=e[r],n=n.replace(i,Array(i.length+1).join("A"))})(/\\[0-9A-Fa-f]{6}\s?/g),r(/\\[0-9A-Fa-f]{1,5}\s/g),r(/\\./g),function(){var t,e,r,o,i=/{[^]*/gm;if(i.test(n))for(e=0,r=(t=n.match(i)).length;e<r;e+=1)o=t[e],n=n.replace(o,Array(o.length+1).join(" "))}(),e(/(\[[^\]]+\])/g,"b"),e(/(#[^\#\s\+>~\.\[:\)]+)/g,"a"),e(/(\.[^\s\+>~\.\[:\)]+)/g,"b"),e(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,"c"),e(/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,"b"),e(/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,"b"),n=(n=(n=(n=(n=(n=n.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," ")).replace(/:not/g,"    ")).replace(/:local/g,"      ")).replace(/:global/g,"       ")).replace(/[\(\)]/g," "),e(/([^\s\+>~\.\[:]+)/g,"c"),i.sort((function(t,e){return t.index-e.index})),{selector:t,specificity:"0,"+o.a.toString()+","+o.b.toString()+","+o.c.toString(),specificityArray:[0,o.a,o.b,o.c],parts:i}},In=function(t,e){var r,n,o;if("string"==typeof t){if(-1!==t.indexOf(","))throw"Invalid CSS selector";r=zn(t).specificityArray}else{if(!Array.isArray(t))throw"Invalid CSS selector or specificity array";if(4!==t.filter((function(t){return"number"==typeof t})).length)throw"Invalid specificity array";r=t}if("string"==typeof e){if(-1!==e.indexOf(","))throw"Invalid CSS selector";n=zn(e).specificityArray}else{if(!Array.isArray(e))throw"Invalid CSS selector or specificity array";if(4!==e.filter((function(t){return"number"==typeof t})).length)throw"Invalid specificity array";n=e}for(o=0;o<4;o+=1){if(r[o]<n[o])return-1;if(r[o]>n[o])return 1}return 0};function Rn(t){if(null==t.href)return!1;var e=window.location.origin;return t.href.substring(0,e.length)!==e}function xn(t,e){var r,n,o,i;(function(t){for(var e=[],r=function r(n){for(var o=0;o<n.length;o++){var i=n[o];i instanceof CSSMediaRule&&window.matchMedia(i.conditionText).matches?r(i.cssRules):i instanceof CSSStyleRule&&t.matches(i.selectorText)&&e.push(i)}},n=t.ownerDocument.styleSheets,o=0;o<n.length;o++)Rn(n[o])||n[o].disabled||r(n[o].cssRules);return e})(e).forEach((function(e){o||(o=e.selectorText),-1!==In(e.selectorText,o)&&(o=e.selectorText,r=e.style.getPropertyValue(t)),"important"===e.style.getPropertyPriority(t)&&(i||(i=e.selectorText),-1!==In(e.selectorText,i)&&(i=e.selectorText,n=e.style.getPropertyValue(t)))}));var a=e.style.getPropertyValue(t);return r=a||r,"important"===e.style.getPropertyPriority(t)&&(n=a),n||r}function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function Un(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function An(t){var e=function(t,e){if("object"!=Cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cn(e)?e:e+""}var Ln=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e}var e,r,n;return e=t,(r=[{key:"resize",value:function(t){throw _t}},{key:"widgetSize",value:function(){var t=window.getComputedStyle(this.element);return{width:t.width,height:t.height}}},{key:"appliedWidth",value:function(){return xn("width",this.element)}},{key:"initialze",value:function(){var t=this;Tn.ready((function(e){t.resize(e),window.addEventListener("resize",(function(){t.resize(e)}))}))}},{key:"calcDesiredSize",value:function(t){var e=this.widgetSize(),r=this.appliedWidth(),n={width:parseInt(e.width),height:parseInt(e.height)};if(-1!==r.indexOf("%")){var o=parseFloat(r)/100;isNaN(o)&&(o=1),o>1&&(o=1),n.width=Math.floor(t*o)}return n}}])&&Un(e.prototype,r),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hn(n.key),n)}}function Hn(t){var e=function(t,e){if("object"!=Nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nn(e)?e:e+""}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}function Bn(t){var e=Fn();return function(){var r,n=Wn(t);if(e){var o=Wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Fn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fn=function(){return!!t})()}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wn(t)}var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(i,t);var e,r,n,o=Bn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"resize",value:function(t){var e=this,r=function(t,e){for(var r=window;null!=r.frameElement;){var n=r.frameElement.style;n.setProperty(t,e,"important"),"none"===n.display&&n.setProperty("display","block","important"),r=r.parent}};window.requestAnimationFrame((function(){var t=e.widgetSize(),n=e.appliedWidth();"auto"!==n&&-1===n.indexOf("%")||(t.width=n),r("width",t.width),window.requestAnimationFrame((function(){var t=e.widgetSize();r("height",t.height)}))}))}}])&&Dn(e.prototype,r),n&&Dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ln);function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gn(n.key),n)}}function Gn(t){var e=function(t,e){if("object"!=$n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$n(e)?e:e+""}function Jn(t,e){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jn(t,e)}function Kn(t){var e=Yn();return function(){var r,n=Zn(t);if(e){var o=Zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Yn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yn=function(){return!!t})()}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(t)}var Xn,Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(i,t);var e,r,n,o=Kn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"resize",value:function(t){}}])&&Vn(e.prototype,r),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ln);function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ro(n.key),n)}}function ro(t){var e=function(t,e){if("object"!=to(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=to(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==to(e)?e:e+""}var no=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.registered=!1,this.callbacks=[]}var e,r,n;return e=t,n=[{key:"get",value:function(){return null==Xn&&(Xn=new t),Xn}},{key:"register",value:function(e,r){t.get().registerInner(e,r)}},{key:"addCallback",value:function(e){t.get().callbacks.push(e)}},{key:"removeCallback",value:function(e){var r=t.get(),n=r.callbacks.indexOf(e);-1!==n&&r.callbacks.splice(n,1)}}],(r=[{key:"registerInner",value:function(t,e){if(null==window.$sf||null==window.$sf.ext||null==window.$sf.ext.register)throw new Error("window.$sf.ext does not exist.");if(this.registered)throw new Error("SafeFrameCallbackRegistory.prototype.registerInner called more than once.");window.$sf.ext.register(t,e,this.onStatusUpdated.bind(this)),this.registered=!0}},{key:"onStatusUpdated",value:function(t,e){this.callbacks.forEach((function(r){r(t,e)}))}}])&&eo(e.prototype,r),n&&eo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oo(t){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(t)}function io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ao(n.key),n)}}function ao(t){var e=function(t,e){if("object"!=oo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oo(e)?e:e+""}function uo(t,e){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uo(t,e)}function co(t){var e=lo();return function(){var r,n=fo(t);if(e){var o=fo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function lo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lo=function(){return!!t})()}function fo(t){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fo(t)}var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(i,t);var e,r,n,o=co(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"resize",value:function(t){if(null==window.$sf)throw new Error("window.$sf is not available.");var e=window.$sf.ext,r=this.calcDesiredSize(e.geom().win.w);if(!no.get().registered){no.register(r.width,r.height);var n=this.appliedWidth();if("auto"!==n&&-1===n.indexOf("%")){var o=_.getInstance(),i=e.supports();if(i["exp-push"]){var a="expanded"===e.status();no.addCallback((function(t,n){switch(t){case"expanded":a=!0;break;case"collapsed":a=!1;break;case"geom-update":!a&&e.inViewPercentage()>0&&function(){var t=e.geom(),n=t.self.w,i=t.self.h;if(n!==r.width||i!==r.height){var a={push:!0,r:r.width-n,b:r.height-i};a.r>t.exp.r||a.b>t.exp.b||(o.info("expand params: ".concat(JSON.stringify(a))),e.expand(a))}}()}}))}else o.info("push expantion is not allowed: ".concat(i["exp-push"]))}}}},{key:"initialze",value:function(){var t=this;Tn.ready((function(e){t.resize(e)}))}}])&&io(e.prototype,r),n&&io(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ln);function po(t){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(t)}function yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vo(n.key),n)}}function vo(t){var e=function(t,e){if("object"!=po(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==po(e)?e:e+""}function bo(t,e){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bo(t,e)}function mo(t){var e=ho();return function(){var r,n=wo(t);if(e){var o=wo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ho(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ho=function(){return!!t})()}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(t)}var go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}(i,t);var e,r,n,o=mo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"resize",value:function(t){if(null==window.$sf)throw new Error("window.$sf is not available.");var e=window.$sf.ext,r=this.calcDesiredSize(e.geom().win.w);no.register(r.width,r.height);var n=this.appliedWidth();if("auto"!==n&&-1===n.indexOf("%")){var o=_.getInstance(),i=(e.supports(),"expanded"===e.status());no.addCallback((function(t,n){switch(t){case"expanded":i=!0;break;case"collapsed":i=!1;break;case"geom-update":i||0!=e.inViewPercentage()||function(){var t=e.geom(),n=t.self.w,i=t.self.h;if(n!==r.width||i!==r.height){var a={r:r.width-n,b:r.height-i};a.r>t.exp.r||a.b>t.exp.b||(o.info("resize params: ".concat(JSON.stringify(a))),e.resize(a))}}()}}))}}},{key:"initialze",value:function(){var t=this;Tn.ready((function(e){t.resize(e)}))}}])&&yo(e.prototype,r),n&&yo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ln);function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function So(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jo(n.key),n)}}function jo(t){var e=function(t,e){if("object"!=_o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_o(e)?e:e+""}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}function Po(t){var e=Eo();return function(){var r,n=ko(t);if(e){var o=ko(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Eo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Eo=function(){return!!t})()}function ko(t){return ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(t)}var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(i,t);var e,r,n,o=Po(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"resize",value:function(t){var e=this.appliedWidth();if("auto"!==e&&-1===e.indexOf("%")){var r=this.widgetSize(),n={width:parseFloat(r.width),height:parseFloat(r.height)},o=function(){return window.innerWidth===n.width&&window.innerHeight===n.height};if(!o())var i=window.context.observeIntersection((function(t){t.forEach((function(t){0===t.intersectionRect.height&&0===t.intersectionRect.width&&window.context.requestResize(n.width,n.height).then((function(){o()&&i()})).catch((function(t){console.log(t)}))}))}))}}}])&&So(e.prototype,r),n&&So(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ln);function zo(t){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(t)}function Io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ro(n.key),n)}}function Ro(t){var e=function(t,e){if("object"!=zo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zo(e)?e:e+""}var xo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resizer=e,this.observeCallback=void 0}var e,r,n;return e=t,r=[{key:"observe",value:function(){var t=this;if(null==this.observeCallback){var e=function(e){var r=e.data;null!=r&&null!=r.uzCollapsingSlot&&t.collapse(r.uzCollapsingSlot)};window.addEventListener("message",e,!1),this.observeCallback=e}}},{key:"unobserve",value:function(){null!=this.observeCallback&&(window.removeEventListener("message",this.observeCallback,!1),this.observeCallback=void 0)}},{key:"collapse",value:function(t){if(null!=t.selector)try{var e=document.querySelector(t.selector);if(null==e)return;e.style.display="none",this.resizer.resize(),this.unobserve()}catch(t){_.getInstance().error(t)}}}],r&&Io(e.prototype,r),n&&Io(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function Uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ao(n.key),n)}}function Ao(t){var e=function(t,e){if("object"!=Co(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Co(e)?e:e+""}var Lo=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observationElement=e,this.onInview=r}var e,r,n;return e=t,(r=[{key:"isViewable",value:function(){var t=this.getStyle(),e=this.getSize();return!document.hidden&&"none"!==t.display&&"hidden"!==t.visibility&&e.height>0}},{key:"getStyle",value:function(){return window.getComputedStyle(this.observationElement)}},{key:"getSize",value:function(){var t=this.observationElement.getBoundingClientRect();return{width:t.width,height:t.height}}},{key:"maxIntersectionRatio",value:function(t,e){var r=this.getSize();return(r.width>t?t:r.width)*(r.height>e?e:r.height)/(r.width*r.height)}},{key:"inviewThreshold",value:function(t,e){var r=.8*this.maxIntersectionRatio(t,e);return.3>r?r:.3}},{key:"observe",value:function(){throw _t}},{key:"unobserve",value:function(){throw _t}}])&&Uo(e.prototype,r),n&&Uo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Do(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ho(n.key),n)}}function Ho(t){var e=function(t,e){if("object"!=No(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=No(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==No(e)?e:e+""}function Mo(t,e){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mo(t,e)}function Bo(t){var e=Fo();return function(){var r,n=Wo(t);if(e){var o=Wo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Fo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fo=function(){return!!t})()}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}var qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(i,t);var e,r,n,o=Bo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"calcIntersectionRatio",value:function(t,e){var r=this.getSize();return t*e/(r.width*r.height)}},{key:"observe",value:function(){var t=this;this.unlisten=window.context.observeIntersection((function(e){e.forEach((function(e){var r,n;if(null!=e.rootBounds){var o=t.inviewThreshold(null===(r=e.rootBounds)||void 0===r?void 0:r.width,null===(n=e.rootBounds)||void 0===n?void 0:n.height);t.calcIntersectionRatio(e.intersectionRect.width,e.intersectionRect.height)>o&&t.isViewable()&&null!=t.onInview&&t.onInview()}}))}))}},{key:"unobserve",value:function(){null!=this.unlisten&&(this.unlisten(),this.unlisten=void 0)}}])&&Do(e.prototype,r),n&&Do(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Lo);function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function Vo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Go(n.key),n)}}function Go(t){var e=function(t,e){if("object"!=$o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$o(e)?e:e+""}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jo(t,e)}function Ko(t){var e=Yo();return function(){var r,n=Zo(t);if(e){var o=Zo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Yo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yo=function(){return!!t})()}function Zo(t){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zo(t)}var Xo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}(i,t);var e,r,n,o=Ko(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"observe",value:function(){for(var t=this,e=[],r=0;r<100;r++)e.push((r+1)/100);var n=new IntersectionObserver((function(e,r){e.forEach((function(e){var r,n;null==e.rootBounds?(r=window.innerWidth,n=window.innerHeight):(r=e.rootBounds.width,n=e.rootBounds.height);var o=t.inviewThreshold(r,n);e.intersectionRatio>o&&t.isViewable()&&null!=t.onInview&&t.onInview()}))}),{threshold:e});n.observe(this.observationElement),this.substance=n}},{key:"unobserve",value:function(){null!=this.substance&&(this.substance.disconnect(),this.substance=void 0)}}])&&Vo(e.prototype,r),n&&Vo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Lo);function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ei(n.key),n)}}function ei(t){var e=function(t,e){if("object"!=Qo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qo(e)?e:e+""}function ri(t,e){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ri(t,e)}function ni(t){var e=oi();return function(){var r,n=ii(t);if(e){var o=ii(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==Qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function oi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oi=function(){return!!t})()}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(t)}var ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ri(t,e)}(i,t);var e,r,n,o=ni(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).listenInview=function(t,e){if(r.isViewable()){if(null==window.$sf)throw new Error("window.$sf is not available.");if("geom-update"===t){var n=window.$sf.ext.geom().win,o=r.inviewThreshold(n.w,n.h);window.$sf.ext.inViewPercentage()>100*o&&null!=r.onInview&&r.onInview()}}},r}return e=i,(r=[{key:"observe",value:function(){no.addCallback(this.listenInview),this.listenInview("geom-update",{})}},{key:"unobserve",value:function(){no.removeCallback(this.listenInview)}}])&&ti(e.prototype,r),n&&ti(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Lo);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,li(n.key),n)}}function li(t){var e=function(t,e){if("object"!=ui(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ui(e)?e:e+""}var fi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"getObserver",value:function(t,e){switch(q()){case W:return new qo(t,e);case B:case F:return new ai(t,e);default:return new Xo(t,e)}}},{key:"isObserving",value:function(){return null!=this.observer}},{key:"subscribe",value:function(t,e){this.isObserving()||(this.observer=this.getObserver(t,e),this.observer.observe())}},{key:"unsubscribe",value:function(){this.isObserving()&&null!=this.observer&&(this.observer.unobserve(),this.observer=void 0)}}])&&ci(e.prototype,r),n&&ci(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yi(n.key),n)}}function yi(t){var e=function(t,e){if("object"!=si(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==si(e)?e:e+""}var vi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetDiv=e,this.observable=new fi}var e,r,n;return e=t,n=[{key:"initialize",value:function(e){var r=new t(e);Tn.ready((function(t){var n;r.inviewURL="//"===(null===(n=t.inviewURL)||void 0===n?void 0:n.substring(0,2))?"https:"+t.inviewURL:t.inviewURL,r.observable.subscribe(e,r.onInview.bind(r))}))}}],(r=[{key:"onInview",value:function(){this.notify(),this.observable.unsubscribe()}},{key:"notify",value:function(){if(null==this.inviewURL)throw new Error("inviewURL is not set");var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=this.inviewURL,this.widgetDiv.appendChild(t)}}])&&pi(e.prototype,r),n&&pi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function di(t,e){var r=t.querySelectorAll("iframe");null!=r&&0!==r.length||console.log("no iframes"),r.forEach((function(t){null!=t.contentWindow?t.contentWindow.postMessage(e,window.location.origin):console.log("no contentWindow")}))}function bi(t){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(t)}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hi(n.key),n)}}function hi(t){var e=function(t,e){if("object"!=bi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bi(e)?e:e+""}var wi=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.tab=r,this.callback=n}var e,r,n;return e=t,(r=[{key:"observe",value:function(){var t=this;if(null==this.substance){var e={root:this.root},r=new IntersectionObserver((function(e,r){e.forEach((function(e){e.intersectionRatio>0&&t.callback(t.tab)}))}),e);r.observe(this.tab),this.substance=r}}},{key:"unobserve",value:function(){null!=this.substance&&(this.substance.disconnect(),this.substance=void 0)}}])&&mi(e.prototype,r),n&&mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gi(t,e){var r=document.querySelector(t);if(!r)throw new Error("Not Found ".concat(t," element inner-frame."));e.isHashtag?function(t,e){var r=".__uz__tag-content",n=".__uz__articles-area";t.className="__uz__tag-contents",e.contents.hashtags.forEach((function(e){var o=e.fragment,i=o.querySelector(r);if(null==i)throw new Error("".concat(r," is not found"));var a=o.querySelector(n);if(null==a)throw new Error("".concat(n," is not found"));var u=e.hashtagCode,c=new wi(i,a,(function(t){!function(t){Sn.onImpression(t)}(u),function(t){di(t,{uzRenderAds:!0})}(t)}));c.observe(),Pi(t,a,e.articles),t.appendChild(o)}))}(r,e):Pi(r,r,e.contents)}function _i(t){return!!t&&(0!=t.length&&t.every((function(t){return Number.isFinite(t)})))}function Si(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=function(e){t.appendChild(e.data),r&&"function"==typeof e.afterAppendCallback&&e.afterAppendCallback()},o=[];e.forEach((function(t){t.elements.forEach((function(t){t.moveToLast?o.push(t):n(t)}))})),o.forEach((function(t){return n(t)}))}function ji(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Oi(),i=0,a=0,u=function(t){o.appendChild(t.data),n&&"function"==typeof t.afterAppendCallback&&t.afterAppendCallback()},c=[];r.forEach((function(r){r.elements.forEach((function(r){if(i>0&&0==a&&(o=Oi()),r.moveToLast?c.push(r):(u(r),a++),!(e[i]>a+c.length)){for(var n=c.shift();n;n=c.shift())u(n),a++;t.appendChild(o),i++,a=0}}))}))}function Oi(){return qr("<div class=__uz__articles-area-inner></div> ")}function Pi(t,e,r){var n=function(t){var e=t.dataset.slotGroup;return"string"==typeof e?e.split(",").map(Number):[]}(t);_i(n)?ji(e,n,r):Si(e,r)}var Ei=function(t,e,r,n,o){var i,a,u;!function(t,e){e.viewSetting.templateHtml=e.viewSetting.templateHtml.replace(/{CREDIT_LINK_URL}/g,"https://uzou.speee-ad.jp/optout/");for(var r=$r(e.viewSetting.templateHtml);t.firstChild;)t.removeChild(t.firstChild);t.appendChild(r)}(e,o.placement),i="".concat(o.widgetElementIdName," .").concat(ht).concat(bt),a=o.placement,(u=document.querySelector(i))&&(a.viewSetting.headerText?u.innerHTML=a.viewSetting.headerText:u.style.display="none"),function(t,e){if(t.isHashtag){var r="".concat(e.widgetElementIdName," .__uz__header-div"),n=document.querySelector(r);if(null==n)throw new Error("".concat(r," is not found."));var o=document.querySelector("".concat(e.widgetElementIdName," .__uz__widget")),i=document.createElement("div");i.classList.add("__uz__heading"),o.insertBefore(i,o.firstChild),i.appendChild(n),i.appendChild(t.contents.navigationFragment())}}(t,o),gi("".concat(o.widgetElementIdName," .").concat(ht).concat(dt),t),e.querySelectorAll("img").forEach((function(t){t.addEventListener("error",(function(){_.getInstance().fatal(new Error("image not found ".concat(t.src)))}))})),window.requestAnimationFrame((function(){Tn.getInstance().onCreated(o)}))},ki={handle:function(t,e,r,n,o){var i=this;document.querySelectorAll("div.uz-".concat(e.code,".").concat(Ur)).forEach((function(a){var u,c=Object.keys(t.widgetMap).length,l="uz-".concat(e.code,"-").concat(c);a.classList.replace(Ur,"uz-ar"),a.id=l;var f,s,p,y,v=function(t,e,r,n,o,i,a,u,c){return{widgetIndex:t,widgetId:e,url:r,referer:n,device:o,placement:i,environment:a,events:u,inviewURL:c,iframeId:"".concat(e,"-frame"),widgetElementIdName:"#".concat(e)}}(c,l,(s=e.di.outer,p=I(e.buildType),y=(null===(f=r.injector)||void 0===f?void 0:f.url)||"",p?Object.getPrototypeOf(s).hasOwnProperty("getAmpURLFunction")?s.getAmpURLFunction(window,a,y):s.getURLFunction(window,a):St(y)||s.getURLFunction(window,a)),St((null===(u=r.injector)||void 0===u?void 0:u.referer)||"")||function(t,e){if(t.match(e)){var r=t.match(new RegExp("url%22%3A%22(.+?)%22%2C%22"));if(r&&r.length>1)return decodeURIComponent(r[1])}return St(t)}(document.referrer,r.akamaiHost),n,e,r,o);t.widgetMap[v.widgetId]=i.createWidget(t,a,v)}))},createWidget:function(t,e,r){var n=t.user,o=ge.create(e),i={attribute:o,context:r},a=new Hr(function(t,e,r,n){return function(e){try{var o=hn(e,n);if(r.saveOrDeleteUUID(o.uuid,o.optOut),!o.contents||"length"in o.contents&&0===o.contents.length)return void Ti(t);o.inviewURL&&(n.inviewURL=o.inviewURL),Cr.initialize(n),nt.initialize(r),Ei(o,t,0,0,n),o.isHashtag&&function(t,e){null==Sn&&(Sn=new On(t,e))}(r,n);var i=n.placement.di.outer;if(Object.getPrototypeOf(i).hasOwnProperty("resizeIFrame"))i.resizeIFrame(window,t);else{var a=function(t){switch(q()){case H:return new Qn(t);case M:return new qn(t);case B:return new so(t);case F:return new go(t);case W:return new To(t);default:return new Qn(t)}}(t);a.initialze(),new xo(a).observe()}vi.initialize(t)}catch(e){Ti(t),_.getInstance().fatal(e)}}}(e,0,n,r));return a.execute(e,r,n),i}};function Ti(t){t.style.display="none"}!function(){var t,e=yr(),r=e.placementSetting,n=new m(r.environment,r.placementCode);n.inject();try{t=Pr()}catch(t){n.isProduction()||console.error(t)}var o=function(t,e,r){if(null==_r){if(null==t||null==e||null==r)throw new Error("Events is not initialized");_r=new Sr(t,e,r)}return _r}("lazy",n,r);o.setSessId(t);try{try{o.log()}catch(t){n.isProduction()||console.error(t)}yt(n,e,o,ki)}catch(t){o.fatal(t)}}()})(),(()=>{var t=r(0),e=r.n(t),n=r(1),o=r.n(n),i=r(2),a=r.n(i),u=r(3),c=r.n(u),l=r(4),f=r.n(l),s=r(5),p=r.n(s),y=r(8),v={};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=a().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=f();e()(y.A,v),y.A&&y.A.locals&&y.A.locals})()})();